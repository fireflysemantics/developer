<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 1.1.1">
      <meta charset="utf-8">
      <base href="/">
      <meta charset="utf-8">
      <base href="/">
      <meta name="viewport" content="width=device-width, initial-scale=1">
    
      <link rel="icon" type="image/x-icon" href="favicon.ico">
      <style type="text/css">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style>
      <style type="text/css">@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v92/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2');}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased;}</style>
      <link rel="stylesheet" href="https://fireflysemantics.github.io/logo/font/style.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous">
    


      <script src="https://unpkg.com/@fireflysemantics/fs-gist"></script>
      <script src="https://unpkg.com/@fireflysemantics/fs-image"></script>
      <script src="https://unpkg.com/@fireflysemantics/fs-link-preview"></script>
    
      

      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-K062C8V6TK"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-K062C8V6TK');
      </script>    
    <style>body,html{height:100%;}body{margin:0;font-family:Roboto,Helvetica Neue,sans-serif;}</style><link rel="stylesheet" href="styles.3d7233f8f9276f7f5733.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.3d7233f8f9276f7f5733.css"></noscript><style></style><title>Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager</title><meta name="description" content="Recreation of the NgRx demo application in order to illustrate Slice simplicity and capabilities."><meta name="keywords" content="Firefly Semantics, Slice, Angular, JavaScript, TypeScript"><meta name="author" content="Firefly Semantics Corporation"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="https://developer.fireflysemantics.com/"><meta name="twitter:title" content="Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager"><meta name="twitter:description" content="Recreation of the NgRx demo application in order to illustrate Slice simplicity and capabilities."><meta name="twitter:creator" content="@fireflysmtics"><meta name="twitter:image" content="https://fireflysemantics.github.io/i/developer/glowing-2245832_1920.jpg"><meta name="og:title" content="Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager"><meta name="og:type" content="article"><meta name="og:url" content="https://developer.fireflysemantics.com/"><meta name="og:image" content="https://fireflysemantics.github.io/i/developer/glowing-2245832_1920.jpg"><meta name="og:description" content="Recreation of the NgRx demo application in order to illustrate Slice simplicity and capabilities."><meta name="og:site_name" content="Firefly Semantics Developer Center"><style>mat-toolbar[_ngcontent-kdi-c42]{display:flex;position:fixed;justify-content:space-between;align-items:center;min-height:100px;width:100%;padding:40px}.Logo[_ngcontent-kdi-c42]{color:gray;width:64px;height:64px}mat-form-field[_ngcontent-kdi-c42]{margin-left:1rem;width:100%;max-width:48rem;height:70px;padding:0 2rem}@media only screen and (min-width:992px){mat-form-field[_ngcontent-kdi-c42]{width:100%;margin-left:-2rem;max-width:48rem;height:70px}}.hideShowToolbar[_ngcontent-kdi-c42]{transition:all .4s ease-in-out!important;position:fixed;top:0}.hideToolbar[_ngcontent-kdi-c42]{transform:translateY(-100%)}.showToolbar[_ngcontent-kdi-c42]{transform:translateY(0)}</style><style>.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}
</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
</style><style>.mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}
</style><style>.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}
</style><style>.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}
</style><style>.mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}
</style><style>.mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}
</style><style>.mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}
</style><style>.fs-MenuLink[_ngcontent-kdi-c41]{text-decoration:none;font-size:inherit;width:100%;display:flex;justify-content:center;padding:0;margin:0}.fs-MenuLink[_ngcontent-kdi-c41], .fs-MenuLink[_ngcontent-kdi-c41]:hover{background-color:transparent}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}
</style><style>mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
</style><style>code{color:#000;display:inline-block;font-weight:700;opacity:.6;font-family:monospace;font-size:80%;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}.TopicHeaderImage{background-size:cover;background-position:50%;background-repeat:no-repeat;height:400px;width:100%}pre{color:#000;background-color:rgba(0,0,0,.15);display:block;font-weight:700;opacity:.8;font-family:monospace;font-size:80%;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:.8rem;padding-bottom:.8rem;white-space:pre-wrap;word-wrap:break-word;word-break:keep-all}ul{padding-left:20px;list-style:none;list-style-image:none;margin:0;word-break:break-word;font-weight:400;font-family:Arial,Helvetica,sans-serif}li{list-style-type:disc}article.TopicContent a,article.TopicContent a:active,article.TopicContent a:focus,article.TopicContent a:hover,article.TopicContent a:link,article.TopicContent a:visited{text-decoration:none}article.TopicContent a,article.TopicContent a:link,article.TopicContent a:visited{outline:none;opacity:.7;color:#0e648f!important;font-weight:700;text-decoration:none;font-family:Saira;font-size:23px;letter-spacing:.06em;padding:0 1px;transition:opacity .3s}article.TopicContent a:active,article.TopicContent a:focus,article.TopicContent a:hover{opacity:1}article{font-size:22px;line-height:48px;letter-spacing:.015em;word-spacing:.02em;font-family:Inter;font-weight:400}p{margin-bottom:2.5rem}main{display:flex;flex-direction:column}.TopicTitle{font-size:44px;font-weight:400}.TopicTitle,h1{font-family:Zilla Slab}h1{font-size:36px}h2{font-family:Zilla Slab;font-size:28px}section{display:flex;align-items:center;justify-content:space-between}</style><style>.TopicMeta[_ngcontent-kdi-c33]{display:flex;margin-top:0;margin-bottom:1rem;font-size:16px}.TopicMeta_author[_ngcontent-kdi-c33]{margin-bottom:4px}.TopicMeta_icon[_ngcontent-kdi-c33]{font-size:60px;height:60px;width:60px}.TopicMeta_iconContainer[_ngcontent-kdi-c33]{width:60px;height:100px}.TopicMeta_contentContainer[_ngcontent-kdi-c33], .TopicMeta_iconContainer[_ngcontent-kdi-c33]{display:flex;flex-direction:column;justify-content:center;align-items:center}.TopicMeta_contentContainer[_ngcontent-kdi-c33]{font-family:Saira;font-weight:400;margin-left:1rem}</style><style>.SocialIconLink[_ngcontent-kdi-c34]{background-color:rgba(0,0,0,.1);transition:1s}.SocialIconLink[_ngcontent-kdi-c34], .SocialIconLink[_ngcontent-kdi-c34]:hover{color:#000;display:flex;justify-content:center;align-items:center;width:50px;height:50px}.SocialIconLink[_ngcontent-kdi-c34]:hover{background-color:rgba(0,0,0,.6);transition:.5s}.SocialIconLink[_ngcontent-kdi-c34]:hover   i[_ngcontent-kdi-c34]{color:azure}i[_ngcontent-kdi-c34]{font-size:22px;color:rgba(0,0,0,.5);transition:.5s}a[_ngcontent-kdi-c34]{text-decoration:none;margin-right:1rem}</style><style>.fs-BackgroundImage[_ngcontent-kdi-c14] {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: 100%;
}</style><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script>window['ScullyIO']='generated';</script></head>
    
    <body scully-version="1.1.1"><div id="MathJax_Message" style="display: none;"></div>
      <app-root _nghost-kdi-c46="" ng-version="12.0.3"><fs-toolbar _ngcontent-kdi-c46="" _nghost-kdi-c42=""><mat-toolbar _ngcontent-kdi-c42="" class="mat-toolbar hideShowToolbar showToolbar mat-toolbar-single-row"><mat-icon _ngcontent-kdi-c42="" role="img" svgicon="fs-logo" class="mat-icon notranslate Logo mat-icon-no-color" style="outline: none; text-decoration: none;" aria-hidden="true" tabindex="0" data-mat-icon-type="svg" data-mat-icon-name="fs-logo"><svg class="fs-Logo" version="1.1" viewBox="0 0 52.917 52.917" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" focusable="false">
 <g transform="translate(0 -244.08)">
  <path d="m0 244.08v52.917h52.917v-52.917zm8.8403 6.6415 35.236 12.781v4.5625l-35.236 12.781v-5.0023l28.365-10.032-28.365-10.087zm3.7796 11.39a3.7798 3.7798 0 0 1 3.7796 3.7801 3.7798 3.7798 0 0 1-3.7796 3.7796 3.7798 3.7798 0 0 1-3.7796-3.7796 3.7798 3.7798 0 0 1 3.7796-3.7801zm31.456 10.461v5.0023l-35.236 12.781v-5.0023z"></path>
 </g>
</svg></mat-icon><mat-form-field _ngcontent-kdi-c42="" floatlabel="never" class="mat-form-field ng-tns-c27-0 mat-primary mat-form-field-type-mat-input mat-form-field-appearance-legacy mat-form-field-has-label mat-form-field-hide-placeholder ng-star-inserted"><div class="mat-form-field-wrapper ng-tns-c27-0"><div class="mat-form-field-flex ng-tns-c27-0"><!----><!----><div class="mat-form-field-infix ng-tns-c27-0"><input _ngcontent-kdi-c42="" matinput="" type="text" autocomplete="off" class="mat-input-element mat-form-field-autofill-control ng-tns-c27-0 cdk-text-field-autofill-monitored" id="mat-input-0" data-placeholder="Search" aria-invalid="false" aria-required="false"><span class="mat-form-field-label-wrapper ng-tns-c27-0"><label class="mat-form-field-label ng-tns-c27-0 mat-empty mat-form-field-empty ng-star-inserted" id="mat-form-field-label-1" for="mat-input-0" aria-owns="mat-input-0"><span class="ng-tns-c27-0 ng-star-inserted">Search</span><!----><!----><!----><!----></label><!----></span></div><div class="mat-form-field-suffix ng-tns-c27-0 ng-star-inserted"><mat-icon _ngcontent-kdi-c42="" role="img" matsuffix="" class="mat-icon notranslate material-icons mat-icon-no-color ng-tns-c27-0" aria-hidden="true" data-mat-icon-type="font">search</mat-icon></div><!----></div><div class="mat-form-field-underline ng-tns-c27-0 ng-star-inserted"><span class="mat-form-field-ripple ng-tns-c27-0"></span></div><!----><div class="mat-form-field-subscript-wrapper ng-tns-c27-0"><!----><div class="mat-form-field-hint-wrapper ng-tns-c27-0 ng-trigger ng-trigger-transitionMessages ng-star-inserted" style="opacity: 1; transform: translateY(0%);"><!----><div class="mat-form-field-hint-spacer ng-tns-c27-0"></div></div><!----></div></div></mat-form-field><fs-menu _ngcontent-kdi-c42="" _nghost-kdi-c41=""><button _ngcontent-kdi-c41="" aria-haspopup="true" mat-icon-button="" class="mat-focus-indicator mat-menu-trigger mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon _ngcontent-kdi-c41="" role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button><!----><mat-menu _ngcontent-kdi-c41="" class="ng-tns-c19-1"><!----></mat-menu></fs-menu></mat-toolbar></fs-toolbar><body _ngcontent-kdi-c46=""><main _ngcontent-kdi-c46="" class="Outlet MinimumPadding"><router-outlet _ngcontent-kdi-c46=""></router-outlet><app-topic class="ng-star-inserted"><main><h1 class="TopicTitle" style="margin-bottom: 2rem;">Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager | Guide</h1><section><fs-article-meta _nghost-kdi-c33=""><div _ngcontent-kdi-c33="" class="TopicMeta"><div _ngcontent-kdi-c33="" class="TopicMeta_iconContainer"><mat-icon _ngcontent-kdi-c33="" role="img" class="mat-icon notranslate TopicMeta_icon material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">account_circle</mat-icon></div><div _ngcontent-kdi-c33="" class="TopicMeta_contentContainer"><span _ngcontent-kdi-c33="" class="TopicMeta_author">Ole Ersoy</span><div _ngcontent-kdi-c33=""><span _ngcontent-kdi-c33="">Mar - 16 &nbsp;-&nbsp; 19 min </span></div></div></div></fs-article-meta><div style="display: flex;"><fs-social-icon _nghost-kdi-c34=""><a _ngcontent-kdi-c34="" class="SocialIconLink" href="https://twitter.com/share?text=Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager&amp;url=http://localhost:1864/guides/guides--recreating-the-ngrx-demo-app-with-firefly-semantics-slice-state-manager"><i _ngcontent-kdi-c34="" class="fa-twitter fab"></i></a></fs-social-icon><fs-social-icon _nghost-kdi-c34=""><a _ngcontent-kdi-c34="" class="SocialIconLink" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:1864/guides/guides--recreating-the-ngrx-demo-app-with-firefly-semantics-slice-state-manager"><i _ngcontent-kdi-c34="" class="fa-facebook fab"></i></a></fs-social-icon><fs-social-icon _nghost-kdi-c34=""><a _ngcontent-kdi-c34="" class="SocialIconLink" href="https://www.linkedin.com/shareArticle?mini=true&amp;summary=Recreation of the NgRx demo application in order to illustrate Slice simplicity and capabilities.&amp;title=Recreating the NgRx Demo App With the Firefly Semantics Slice State Manager&amp;url=http://localhost:1864/guides/guides--recreating-the-ngrx-demo-app-with-firefly-semantics-slice-state-manager"><i _ngcontent-kdi-c34="" class="fa-linkedin-in fab"></i></a></fs-social-icon></div></section><fs-background-image style="margin-bottom: 3rem;" _nghost-kdi-c14=""><div _ngcontent-kdi-c14="" class="fs-BackgroundImage" style="height: 400px; background-image: url(&quot;https://fireflysemantics.github.io/i/developer/glowing-2245832_1920.jpg&quot;);"></div></fs-background-image><!----><article class="TopicContent"><h1 id="introduction">Introduction</h1>
<p>We will be creating the NgRx demo application from scratch using the <a href="https://www.npmjs.com/package/@fireflysemantics/slice">Firefly Semantics Slice Lightweight Reactive Application State Manager</a>.</p>
<p><fs-link-preview imageurl="https://fireflysemantics.github.io/i/logos/png/slicelogo.png" title="@fireflysemantics/slice" description="Lightweight Reactive Web Application State Management" domain="www.npmjs.com" url="https://www.npmjs.com/package/@fireflysemantics/slice">
</fs-link-preview></p>
<p>The NgRx Demo allows us to search the Google Books API and place books in our own collection.</p>
<p>We will be doing this incrementally in phases describing the <a href="https://www.npmjs.com/package/@fireflysemantics/slice">Slice</a> state management implementation details as we go along.</p>
<h1 id="final-stackblitz-demo">Final Stackblitz Demo</h1>
<p>To play around with this demo log in with the username <strong>test</strong> and use any password.</p>
<p><fs-link-preview imageurl="https://fireflysemantics.github.io/i/developer/stackblitz.jpeg" title="Stackblitz Slice NgRx Demo" description="Firefly Semantics Slice NgRx Demo Application" domain="stackblitz.com" url="https://stackblitz.com/edit/angular-ivy-ydvn8y">
</fs-link-preview></p>
<h1 id="stackblitz">Stackblitz</h1>
<p>Go to <a href="https://stackblitz.com/">Stackblitz</a> and start a brand new Angular project.</p>
<p>Delete the <code>hello.component.ts</code> and remove it from <code>app.module.ts</code> correspondingly.</p>
<p>Remove the <code>&lt;hello name=”{{ name }}”&gt;&lt;/hello&gt;</code> from <code>app.component.html</code>.</p>
<h1 id="dependencies">Dependencies</h1>
<p>The dependencies for this project are as follows:</p>
<ul>
<li><code>@angular/material</code></li>
<li><code>@fireflysemantics/slice</code></li>
<li><code>@fireflysemantics/material-base-module</code></li>
<li><code>@ngneat/until-destroy</code></li>
<li><code>@types/nanoid</code></li>
<li><code>nanoid</code></li>
</ul>
<p>These need to be installed using NPM via the command line in a desktop angular project.</p>
<p>Stackblitz will automatically pull in peer dependencies, so when <a href="https://www.npmjs.com/package/@fireflysemantics/slice">Slice</a> is declared as a dependency it automatically pulls in <code>@types/nanoid</code> and <code>naonoid</code>.</p>
<p>The dependency <code>@ngneat/until-destroy</code> is used to automatically unsubscribe when a component is destroyed.</p>
<h1 id="styling-and-icons">Styling and Icons</h1>
<p>Update <code>src/styles.css</code> with:</p>
<pre><code>@import "~@angular/material/prebuilt-themes/indigo-pink.css";
</code></pre>
<p>Add the material icons cdn link to <code>src/index.html</code>:</p>
<pre><code>&lt;link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"&gt;
</code></pre>
<h1 id="model">Model</h1>
<p>The folder <code>src/app/model</code> will hold our model types within <code>index.ts</code>:</p>
<pre><code>export type Book = {
  id: string;
  volumeInfo: {
    title: string;
    subtitle: string;
    authors: string[];
    publisher: string;
    publishDate: string;
    description: string;
    averageRating: number;
    ratingsCount: number;
    imageLinks: {
      thumbnail: string;
      smallThumbnail: string;
    };
  };
};

export type Credentials = {
  username: string;
  password: string;
};

export type User = {
  name: string;
};
</code></pre>
<p>The <code>Book</code> model represents book instances we have retrieved via the Google Books API.</p>
<p>The <code>Credentials</code> are login credentials.</p>
<p>The <code>User</code> type represents an authenticated user.</p>
<h1 id="services">Services</h1>
<p>The folder <code>src/app/services</code> will contain all our services.</p>
<h2 id="application-state-service">Application State Service</h2>
<p>The application state service allows us to observe the state of:</p>
<ul>
<li>Side navigation (Open or Closed)</li>
<li>User ( Null if not logged in)</li>
<li>Authentication Error</li>
</ul>
<p>These have been modeled in a <a href="https://developer.fireflysemantics.com/guides/guides--introduction-to-the-firefly-semantics-slice-reactive-object-store/">Firefly Semantics Slice Object Store. Click on this link for an introduction</a>.</p>
<pre><code>import { Injectable } from '@angular/core';
import {
  KeyObsValueReset,
  ObsValueReset,
  OStore,
  OStoreStart,
} from '@fireflysemantics/slice';

import { Observable } from 'rxjs';
import { map } from 'rxjs/operators';
import { User } from '../model';

//===================================
//Create the User Key for local storage
//===================================
export const USER_KEY = 'USER_KEY';

interface ISTART extends KeyObsValueReset {
  SIDENAV: ObsValueReset;
  USER: ObsValueReset;
  AUTHENTICATION_ERROR: ObsValueReset;
}

@Injectable({ providedIn: 'root' })
export class AppStateService {
  START: OStoreStart = {
    SIDENAV: { value: false, reset: false },
    USER: { value: null, reset: null },
    AUTHENTICATION_ERROR: { value: false, reset: false },
  };
  public OS: OStore&lt;ISTART&gt; = new OStore(this.START);

  //===================================
  //State parameters that we wish to observe
  //===================================
  public sideNavOpen$: Observable&lt;boolean&gt; = this.OS.S.SIDENAV.obs;
  public user$: Observable&lt;User&gt; = this.OS.S.USER.obs;
  public isLoggedIn$: Observable&lt;boolean&gt; = this.user$.pipe(map((u) =&gt; !!u));
  public authenticationError$: Observable&lt;boolean&gt; =
    this.OS.S.AUTHENTICATION_ERROR.obs;

  constructor() {
    const user = JSON.parse(localStorage.getItem(USER_KEY)) || null;
    this.OS.put(this.OS.S.USER, user);
  }

  /**
   * If the user is logged out just call
   * updateUser() without an argument.
   */
  updateUser(user?: User) {
    if (user) {
      this.OS.put(this.OS.S.USER, user);
      localStorage.setItem(USER_KEY, JSON.stringify(user));
    } else {
      this.OS.put(this.OS.S.USER, null);
      localStorage.setItem(USER_KEY, null);
    }
  }

  setAuthenticationError(e: boolean) {
    this.OS.put(this.OS.S.AUTHENTICATION_ERROR, e);
  }

  /**
   * Toggle the sidenav
   */
  toggleSidenav() {
    this.OS.put(this.OS.S.SIDENAV, !this.OS.snapshot(this.OS.S.SIDENAV));
  }
}
</code></pre>
<p>The interface <code>ISTART</code> is used to name the reactive state properties and it gives us autocomplete for these values on the store:</p>
<pre><code>interface ISTART extends KeyObsValueReset {
    SIDENAV: ObsValueReset;
    USER: ObsValueReset;
    AUTHENTICATION_ERROR: ObsValueReset;
}
</code></pre>
<p>The <code>START</code> object provides the initial set of values for the reactive state:</p>
<pre><code>START: OStoreStart = {
    SIDENAV: { value: false, reset: false },
    USER: { value: null, reset: null },
    AUTHENTICATION_ERROR: { value: false, reset: false }
};
</code></pre>
<p>The Object Store (<code>OStore</code>) is created like this:</p>
<pre><code>public OS: OStore&lt;ISTART&gt; = new OStore(this.START);
</code></pre>
<p>For convenience we will provide typed Observable references within the app-state.service:</p>
<pre><code>//===================================
//State parameters that we wish to observe
//===================================
public sideNavOpen$: Observable&lt;boolean&gt; = this.OS.S.SIDENAV.obs;
public user$: Observable&lt;User&gt; = this.OS.S.USER.obs;
public isLoggedIn$: Observable&lt;boolean&gt; = this.user$.pipe(map((u) =&gt; !!u));
public authenticationError$: Observable&lt;boolean&gt; = this.OS.S.AUTHENTICATION_ERROR.obs;
</code></pre>
<p>In the constructor we also load the user from local storage:</p>
<pre><code>const user = JSON.parse(localStorage.getItem(USER_KEY)) || null;
this.OS.put(this.OS.S.USER, user);
</code></pre>
<p>If the user does not log out this will simulate the user remaining authenticated.
The <code>updateUser</code> method is called by the login component when the user authenticates:</p>
<pre><code>/**
 * If the user is logged out just call
 * updateUser() without an argument.
 */
updateUser(user?: User) {
if (user) {
    this.OS.put(this.OS.S.USER, user);
    localStorage.setItem(USER_KEY, JSON.stringify(user));
} else {
    this.OS.put(this.OS.S.USER, null);
    localStorage.setItem(USER_KEY, null);
    }
}
</code></pre>
<p>The setAuthenticationError allows us to indicate when the login does not succeed:</p>
<pre><code>setAuthenticationError(e: boolean) {
   this.OS.put(this.OS.S.AUTHENTICATION_ERROR, e);
}
</code></pre>
<p>The toggleSidenav method is a utility for setting the sidenav state:</p>
<pre><code>/**
 * Toggle the sidenav
 */
toggleSidenav() {
    this.OS.put(this.OS.S.SIDENAV, 
    !this.OS.snapshot(this.OS.S.SIDENAV));
}
</code></pre>
<h2 id="authentication-service">Authentication Service</h2>
<p>The <code>auth.service.ts</code> authenticates the user:</p>
<pre><code>import { Injectable } from '@angular/core';
import { Router } from '@angular/router';
import { AppStateService } from './app-state.service';
import { Credentials } from '../model';

export type Creds = { password: string; username: string };

@Injectable({ providedIn: 'root' })
export class AuthService {
  constructor(private s: AppStateService, private r: Router) {}

  login({ username, password }: Credentials) {
    if (username !== 'test') {
      this.s.setAuthenticationError(true);
    } else {
      this.s.setAuthenticationError(false);
      this.s.updateUser({ name: username });
      this.r.navigate(['/']);
    }
  }

  logout() {
    this.s.updateUser();
    this.r.navigate(['/login']);
  }
}
</code></pre>
<p>This service uses the application state service to update the user on login:</p>
<pre><code>this.state.updateUser({name:username});
</code></pre>
<p>And clear the user on logout:</p>
<pre><code>this.state.updateUser();
</code></pre>
<h2 id="authentication-guard-service">Authentication Guard Service</h2>
<p>The <code>auth-guard.service.ts</code> guards the application from being accessed when the user is not authenticated.</p>
<pre><code>import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';
import { Observable, of } from 'rxjs';
import { switchMap } from 'rxjs/operators';
import { AppStateService } from './app-state.service';

@Injectable({ providedIn: 'root' })
export class AuthGuard implements CanActivate {
  constructor(private s: AppStateService, private router: Router) {}

  canActivate(): Observable&lt;boolean&gt; {
    return this.s.isLoggedIn$.pipe(
      switchMap((isLoggedIn) =&gt; {
        if (!isLoggedIn) {
          this.router.navigate(['/login']);
        }
        return of(isLoggedIn);
      })
    );
  }
}
</code></pre>
<p>If the user is not authenticated then the <code>router</code> navigates to <code>/login</code>:</p>
<pre><code>return this.appState.isLoggedIn$.pipe(
   switchMap((isLoggedIn) =&gt; {
      if (!isLoggedIn) {
         this.router.navigate(['/login']);
}
</code></pre>
<h2 id="book-service">Book Service</h2>
<p>The <code>book.service.ts</code> contains the Entity Stores for book search results and the book collection.</p>
<p>For an introduction to Entity Stores see <a href="https://developer.fireflysemantics.com/guides/guides--introduction-to-the-firefly-semantics-slice-reactive-entity-store">Introduction to the Firefly Semantics Slice Reactive Entity Store</a>.</p>
<p>The service also has the methods for performing API queries:</p>
<pre><code>import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';
import {
  map,
  tap,
  filter,
  debounceTime,
  distinctUntilChanged,
} from 'rxjs/operators';
import { Book } from '../model';
import { EStore } from '@fireflysemantics/slice';

@Injectable()
export class BookService {
  private API_PATH = 'https://www.googleapis.com/books/v1/volumes';

  public bookStore: EStore&lt;Book&gt; = new EStore();
  public bookCollection: EStore&lt;Book&gt; = new EStore();
  
  public books$: Observable&lt;Book[]&gt; = this.bookStore.observe();
  public collection$: Observable&lt;Book[]&gt; = this.bookCollection.observe();

  constructor(private http: HttpClient) {
    this.bookStore
      .observeQuery()
      .pipe(
        filter(Boolean),
        debounceTime(200),
        distinctUntilChanged(),
        tap(async (query: string) =&gt; {
          const bo: Observable&lt;Book[]&gt; = this.searchAPI(query);
          const books: Book[] = await bo.toPromise();
          this.bookStore.reset();
          this.bookStore.postA(books);
        })
      )
      .subscribe();
  }

  onSearch(query: string) {
    this.bookStore.query = query;
  }

  searchAPI(query: string): Observable&lt;Book[]&gt; {
    return this.http
      .get&lt;{ items: Book[] }&gt;(`${this.API_PATH}?q=${query}`)
      .pipe(map((books) =&gt; books.items || []));
  }

  getById(volumeId: string): Observable&lt;Book&gt; {
    return this.http.get&lt;Book&gt;(`${this.API_PATH}/${volumeId}`);
  }

  /**
   * Toggle the book collection with the `book` inttance.
   * @param book The book to remove or add.
   */
  toggleCollection(book: Book) {
    this.bookCollection.toggle(book);
  }
}
</code></pre>
<p>The book entity store is created like this:</p>
<pre><code>public bookStore: EStore&lt;Book&gt; = new EStore();
</code></pre>
<p>And the entity store for the collection like this:</p>
<pre><code>public bookCollection: EStore&lt;Book&gt; = new EStore();
</code></pre>
<p>We observe the books in the book entity store like this:</p>
<pre><code>public books$: Observable&lt;Book[]&gt; = this.bookStore.observe();
</code></pre>
<p>The <code>books$</code> observable is used by the search component to render books found by the Google Books API.</p>
<p>The <code>collection$</code> is used to observe the book collection:</p>
<pre><code>public collection$: Observable&lt;Book[]&gt; = this.bookCollection.observe();
</code></pre>
<p>This observable will be used by the collection component to render the books in our collection.</p>
<h2 id="listening-for-and-fetching-book-query-changes">Listening For and Fetching Book Query Changes</h2>
<p>When the user types in a search query we will store the query string on the <code>bookStore.query</code> property such that we can observe this property and react to changes in its state:</p>
<pre><code>onSearch(query: string) {
    this.bookStore.query = query;
}
</code></pre>
<p>We implement the observation of this property in the constructor of the <code>BookService</code>:</p>
<pre><code>constructor(private http: HttpClient) {
    this.bookStore.observeQuery().pipe(filter(Boolean),
      debounceTime(200),
      distinctUntilChanged(),
      tap(async (query: string) =&gt; {
        const bo: Observable&lt;Book[]&gt; = this.searchAPI(query);
        const books: Book[] = await bo.toPromise();
        this.bookStore.reset();
        this.bookStore.postA(books);
      })
    )
    .subscribe();
}
</code></pre>
<p>By calling <code>this.bookStore.observeQuery()</code> we create an observable that fires whenever the user creates <code>keyup</code> events in the search field.</p>
<p>We <code>debounce</code> these events so that we react to them at most every <code>200</code> milliseconds.</p>
<p>We then search the API for books that match the query, reset the store, and post the new search result to the store.</p>
<p>Posting the new results to the store will cause the <code>books$</code> observable to emit the new search results and this will then be rendered by the search component.</p>
<p>The other methods in the service are for searching the Google Book API and toggling our book collection with Book instances:</p>
<pre><code>toggleCollection(book:Book) {
    this.bookCollection.toggle(book);
}
</code></pre>
<h2 id="book-resolver-service">Book Resolver Service</h2>
<p>The <code>book-resolver.service.ts</code> makes the selected book available to the <code>ViewBookComponent</code> route. 
We wire it up like this:</p>
<pre><code>{
    path: ':id',
    component: ViewBookComponent,
    resolve: { book: BookResolverService }
}
</code></pre>
<pre><code>import { Injectable } from '@angular/core';
import { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';
import { Book } from '../model';
import { BookService } from './book.service';

@Injectable()
export class BookResolverService implements Resolve&lt;Book&gt; {
  constructor(private router: Router, private bookService: BookService) {}
  async resolve(route: ActivatedRouteSnapshot) {
    const id = route.paramMap.get('id');
    let book = this.bookService.bookStore.findOneByID(id);

    if (!book) {
      try {
        book = await this.bookService.getById(id).toPromise();
        return book;
      } catch (err) {
        this.router.navigate(['/404']);
        return null;
      }
    }
    return book;
  }
}
</code></pre>
<p>The resolver first tries to lookup the book based on the provided&nbsp;:id parameter:</p>
<pre><code>const id = route.paramMap.get('id');
let book = this.bookService.bookStore.findOneByID(id);
</code></pre>
<p>If it can't find the book it looks for it in the API:</p>
<pre><code>book = await this.bookService.getById(id).toPromise();
return book;
</code></pre>
<p>If it still can't find it it will navigate to the <code>NotFound</code> component.</p>
<h1 id="pipes">Pipes</h1>
<h2 id="ellipsis-pipe">Ellipsis Pipe</h2>
<p>The <code>src/app/pipes/ellipsis.pipe.ts</code> abbreviates the title of the book if it is longer than 250 characters..</p>
<h2 id="commas-pipe">Commas Pipe</h2>
<p>The <code>src/app/pipes/commas.pipe.ts</code> creates a string with correct grammar from the array of authors.</p>
<h1 id="components">Components</h1>
<h2 id="authors-presentation-component">Authors Presentation Component</h2>
<p>The <code>src/app/components/book/authors.component.ts</code> renders the authors associated with a book.</p>
<h2 id="book-detail-presentation-component">Book Detail Presentation Component</h2>
<p>The <code>src/app/components/book/book-detail.component.ts</code> renders the detailed display of a Book instance.</p>
<h2 id="collection-page-component">Collection Page Component</h2>
<p>The <code>src/app/components/book/collection.component.ts</code> renders the book collection.</p>
<p>The collection rendered by the component is retrieved from the <code>BookService</code> like this:</p>
<pre><code>this.books$ = this.bookService.
              bookCollection.observe().
              pipe(untilDestroyed(this));
</code></pre>
<h2 id="preview-list-presentation-component">Preview List Presentation Component</h2>
<p>The <code>src/app/components/book/preview-list.component.ts</code> is used to preview books contained in the user collection and also to display books in the search result listing.</p>
<h2 id="preview-presentation-component">Preview Presentation Component</h2>
<p>The <code>src/app/components/book/preview.component.ts</code> component renders a preview of a <code>Book</code> instance.</p>
<h2 id="search-smart-component">Search Smart Component</h2>
<p>The <code>src/app/components/book/search.component.ts</code> binds the query to the <code>bookStore.query</code> parameter that we are observing in the <code>BookService</code> via this method.</p>
<pre><code>search(query:string) {
    this.bookService.onSearch(query);
}
</code></pre>
<p>The search method is triggered when the user types in the search field.
This is all that is needed to trigger the search. The search will update the <code>books$</code> observable and then the search results are rendered by this part of the search component template:</p>
<pre><code>&lt;bc-book-preview-list
[books]="bookService.books$ | async"&gt;
&lt;/bc-book-preview-list&gt;
Also note the template for the search field:
&lt;mat-form-field&gt;
&lt;input matInput
placeholder="Search books"
[value]="bookService.bookStore.query"
(keyup)="search($event.target.value)" autocomplete=off&gt;
&lt;/mat-form-field&gt;
</code></pre>
<p>We are initializing the value of the field using the query string stored on the <code>bookStore.query</code> field.
This way if we navigate away from the search component and come back it will remember our last query.</p>
<h2 id="view-book-smart-component">View Book Smart Component</h2>
<p>The <code>src/app/components/book/view-book.component.ts</code> retrieves the book from the route:</p>
<pre><code>this.book = this.route.snapshot.data['book'];
</code></pre>
<p>It then clears the bookStore active books:</p>
<pre><code>this.bookService.bookStore.clearActive();
this.bookService.bookStore.addActive(this.book);
this.isSelectedBookInCollection$ = this.bookCollection$.pipe(map(() =&gt; this.bookCollection.contains(this.book)));
</code></pre>
<p>Then we add the book to the <code>bookStore.active</code> map of active books.</p>
<p>And finally we initialize the <code>isSelectedBookInCollection$</code> observable so that we can notify the UI as to whether the currently active book is in the collection or not.</p>
<h2 id="login-component">Login Component</h2>
<p>The <code>src/app/components/core/login.component.ts</code> logs the user in via submit:</p>
<pre><code>submit() {
if (this.form.valid) {
        this.authService.login(this.form.value);
    }
}
</code></pre>
<p>If there is an error the <code>authService</code> will notify the application of it by calling the <code>AppStateService.setAuthenticationError</code> method causing <code>authenticationError$: Observable&lt;boolean&gt;</code> to broadcast true:</p>
<pre><code>if (username !== 'test') {
    this.state.setAuthenticationError(true);
}
</code></pre>
<p>This in turn causes the UI to display the error.</p>
<h2 id="nav-item-presentation-component">Nav Item Presentation Component</h2>
<p>The component <code>src/app/core/nav-item.component.ts</code> renders navigation items.</p>
<h2 id="not-found-presentation-component">Not Found Presentation Component</h2>
<p>The <code>src/app/components/core/not-found.component.ts</code> is routed to when the user enters a path that is not valid, but more specifically it is used if the <code>/books/:id</code> path tries to access an&nbsp;:id that does not exist. The resolver will route to <code>/404</code>.</p>
<h2 id="side-nav-presentation-component">Side Nav Presentation Component</h2>
<p>The component <code>src/app/components/core/side-nav.component.ts</code> renders the side navigation menu.</p>
<h2 id="toolbar-component">Toolbar Component</h2>
<p>The component <code>src/app/components/core/toolbar.component.ts</code> renders the side toolbar.</p>
<h1 id="application-shell">Application Shell</h1>
<p>The <code>src/app/app.component.ts</code> contains our application shell.</p>
<pre><code>import { Component } from '@angular/core';
import { Router } from '@angular/router';
import { AppStateService } from './services/app-state.service';
import { AuthService } from './services/auth.service';

@Component({
  selector: 'my-app',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
})
export class AppComponent {
  constructor(
    private router: Router,
    public s: AppStateService,
    public authService: AuthService
  ) {}

  signIn() {
    this.s.toggleSidenav();
    this.router.navigate(['login']);
  }
  logout() {
    this.s.toggleSidenav();
    this.authService.logout();
    this.router.navigate(['login']);
  }
}
</code></pre>
<p>The file <code>app.component.html</code> contains the application shell template:</p>
<pre><code>&lt;mat-sidenav-container fullscreen&gt;
  &lt;bc-sidenav [open]="s.sideNavOpen$ | async"&gt;
    &lt;bc-nav-item (navigate)="signIn()" *ngIf="!(s.isLoggedIn$ | async)"&gt;
      Sign In
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item
      (navigate)="s.toggleSidenav()"
      *ngIf="s.isLoggedIn$ | async"
      routerLink="/books/collection"
      icon="book"
      hint="View your book collection"
    &gt;
      My Collection
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item
      (navigate)="s.toggleSidenav()"
      *ngIf="s.isLoggedIn$ | async"
      routerLink="/books"
      icon="search"
      hint="Find your next book!"
    &gt;
      Browse Books
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item (navigate)="logout()" *ngIf="s.isLoggedIn$ | async"&gt;
      Sign Out
    &lt;/bc-nav-item&gt;
  &lt;/bc-sidenav&gt;
  &lt;bc-toolbar (openMenu)="s.toggleSidenav()"&gt; Book Collection &lt;/bc-toolbar&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;
&lt;/mat-sidenav-container&gt;
</code></pre>
<p>When the user not signed in then the navigation item is shown via this <code>*ngIf</code> directive:</p>
<pre><code>&lt;bc-nav-item (navigate)="signIn()" *ngIf="!(state.isLoggedIn$ | async)"&gt;
   Sign In
&lt;/bc-nav-item&gt;
</code></pre>
<p>Also note that the side navigation is gets the open and close state from the <code>sideNavOpen$</code> observable:</p>
<pre><code>&lt;bc-sidenav [open]="state.sideNavOpen$ | async"&gt;
</code></pre>
<h1 id="modules">Modules</h1>
<p>We will create a <code>core.module.ts</code> containing the core components used to boot the application. The <code>book.module.ts</code> is lazy loaded once the user authenticates and accesses the <code>/books</code> path.</p>
<p>Have a look at the Stackblitz demo to see the design of the various components.</p>
<h2 id="material-module">Material Module</h2>
<p>We will be getting all the Angular Material components from the module:</p>
<p><code>@fireflysemantics/material-base-module</code></p>
<p>The <code>MaterialBaseModule</code> needs to be imported into all the application modules, except for the <code>app-routing.module.ts</code>, since all the other modules use the various Angular Material components.</p>
<h2 id="book-module">Book Module</h2>
<p>The <code>src/app/modules/book.module.ts</code> is a lazy loaded module containing all the components used to search for and create a book collection.</p>
<pre><code>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Routes, RouterModule } from '@angular/router';
import { HttpClientModule } from '@angular/common/http';
import { MaterialBaseModule } from '@fireflysemantics/material-base-module';
import { PipesModule } from '../pipes';

import { BookAuthorsComponent } from '../components/book/authors.component';
import { BookDetailComponent } from '../components/book/book-detail.component';
import { CollectionComponent } from '../components/book/collection.component';
import { BookPreviewListComponent } from '../components/book/preview-list.component';
import { BookPreviewComponent } from '../components/book/preview.component';
import { BookSearchComponent } from '../components/book/search.component';
import { ViewBookComponent } from '../components/book/view-book.component';

import { BookService } from '../services/book.service';
import { BookResolverService } from '../services/book-resolver.service';

export const routes: Routes = [
  { path: '', component: BookSearchComponent, pathMatch: 'full' },
  { path: 'collection', component: CollectionComponent },
  {
    path: ':id',
    component: ViewBookComponent,
    resolve: { book: BookResolverService },
  },
];

@NgModule({
  imports: [
    PipesModule,
    HttpClientModule,
    MaterialBaseModule,
    RouterModule.forChild(routes),
    CommonModule,
  ],
  declarations: [
    BookSearchComponent,
    BookPreviewListComponent,
    BookPreviewComponent,
    BookAuthorsComponent,
    BookDetailComponent,
    ViewBookComponent,
    CollectionComponent,
  ],
  providers: [BookService, BookResolverService],
})
export class BookModule {}
</code></pre>
<p>The module also contains the <code>Routes</code> for the the various components that the module bundles.</p>
<h2 id="pipes-module">Pipes Module</h2>
<p>The module <code>src/app/modules/pipes.module.ts</code> contains the pipes:</p>
<ul>
<li><code>commas.pipe.ts</code>: Used to format the authors component</li>
<li><code>ellipsis.pipe.ts</code>: Used to abbreviate content</li>
</ul>
<p>This module is imported into the <code>books.module.ts</code>.</p>
<h2 id="core-module">Core Module</h2>
<p>The core module contains all the custom components used to instantiate the application shell:</p>
<pre><code>import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { MaterialBaseModule } from '@fireflysemantics/material-base-module';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';

import { LoginComponent } from '../components/core/login.component';
import { NavItemComponent } from '../components/core/nav-item.component';
import { NotFoundComponent } from '../components/core/not-found.component';
import { SideNavComponent } from '../components/core/sidenav.component';
import { ToolbarComponent } from '../components/core/toolbar.component';

const COMPONENTS = [
  SideNavComponent,
  NavItemComponent,
  ToolbarComponent,
  LoginComponent,
  NotFoundComponent,
];

@NgModule({
  imports: [
    CommonModule,
    RouterModule,
    MaterialBaseModule,
    FormsModule,
    ReactiveFormsModule,
  ],
  declarations: COMPONENTS,
  exports: COMPONENTS,
})
export class CoreModule {}
</code></pre>
<h2 id="app-routing-module">App Routing Module</h2>
<p>The <code>app-routing.module.ts</code> contains our main application routes. The books route handles loading lazy loading of the <code>book.module.ts</code>.</p>
<pre><code>import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { AuthGuard } from './services/auth-guard.service';
import { LoginComponent } from './components/core/login.component';

const routes: Routes = [
  { path: '', redirectTo: '/books', pathMatch: 'full' },
  {
    path: 'books',
    loadChildren: () =&gt;
      import('./modules/book.module').then((m) =&gt; m.BookModule),
    canActivate: [AuthGuard],
  },
  { path: 'login', component: LoginComponent },
];

@NgModule({
  imports: [RouterModule.forRoot(routes, {})],
  exports: [RouterModule],
})
export class AppRoutingModule {}
</code></pre>
<h2 id="app-module">App Module</h2>
<p>The <code>app.module</code> imports the <code>core.module</code>,  the <code>app-routing.module</code>, the Firefly Semantics Material Base Module and the Angular Forms Modules.</p>
<pre><code>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { AppComponent } from './app.component';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';
import { CoreModule } from './modules/core.module';
import { AppRoutingModule } from './app-routing.module';
import { MaterialBaseModule } from '@fireflysemantics/material-base-module';

@NgModule({
  imports: [
    BrowserModule,
    BrowserAnimationsModule,
    FormsModule,
    ReactiveFormsModule,
    CoreModule,
    AppRoutingModule,
    MaterialBaseModule,
  ],
  declarations: [AppComponent],
  bootstrap: [AppComponent],
})
export class AppModule {}
</code></pre>
<h1 id="application-component">Application Component</h1>
<p>Now we just need to ready our application component by dependency injecting the services it needs and declaring a the <code>signIn</code> and <code>logout</code> methods:</p>
<pre><code>import { Component } from '@angular/core';
import { Router } from '@angular/router';
import { AppStateService } from './services/app-state.service';
import { AuthService } from './services/auth.service';

@Component({
  selector: 'my-app',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
})
export class AppComponent {
  constructor(
    private router: Router,
    public s: AppStateService,
    public authService: AuthService
  ) {}

  signIn() {
    this.s.toggleSidenav();
    this.router.navigate(['login']);
  }
  logout() {
    this.s.toggleSidenav();
    this.authService.logout();
    this.router.navigate(['login']);
  }
}
</code></pre>
<p>The shell template looks like this:</p>
<pre><code>&lt;mat-sidenav-container fullscreen&gt;
  &lt;bc-sidenav [open]="s.sideNavOpen$ | async"&gt;
    &lt;bc-nav-item (navigate)="signIn()" *ngIf="!(s.isLoggedIn$ | async)"&gt;
      Sign In
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item
      (navigate)="s.toggleSidenav()"
      *ngIf="s.isLoggedIn$ | async"
      routerLink="/books/collection"
      icon="book"
      hint="View your book collection"
    &gt;
      My Collection
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item
      (navigate)="s.toggleSidenav()"
      *ngIf="s.isLoggedIn$ | async"
      routerLink="/books"
      icon="search"
      hint="Find your next book!"
    &gt;
      Browse Books
    &lt;/bc-nav-item&gt;

    &lt;bc-nav-item (navigate)="logout()" *ngIf="s.isLoggedIn$ | async"&gt;
      Sign Out
    &lt;/bc-nav-item&gt;
  &lt;/bc-sidenav&gt;
  &lt;bc-toolbar (openMenu)="s.toggleSidenav()"&gt; Book Collection &lt;/bc-toolbar&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;
&lt;/mat-sidenav-container&gt;
</code></pre>
<p>And that’s it. Our application is ready. We hope you enjoyed this article and if you like Firefly Semantics Slice please star our <a href="https://github.com/fireflysemantics/slice">Github Repository</a>.</p>
<h1 id="material-icons">Material Icons</h1>
<p>Within <code>index.html</code> we need to add our material icons:</p>
<pre><code>&lt;link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/&gt;

&lt;my-app&gt;loading&lt;/my-app&gt;
</code></pre>
<h1 id="summary">Summary</h1>
<p>In this guide we reviewed the implementation of the NgRx demo application using the <a href="https://www.npmjs.com/package/@fireflysemantics/slice">Firefly Semantics Slice</a> Lightweight Reactive State Manager for web and mobile applications.</p>
<p>If you have any comments or suggestion for the guide please add them to the <a href="https://github.com/fireflysemantics/slice/issues">Slice Github Repository</a> as an issue.</p>
<p>We would also love it if you could star the repository.</p>
</article></main></app-topic><!----></main></body></app-root>
    <script id="ScullyIO-transfer-state"></script><script src="runtime.2acc7094a399245a7cb6.js" defer=""></script><script src="polyfills.b9c95681012c20163e33.js" defer=""></script><script src="main.70beec850013ecf60e81.js" defer=""></script>
    
    </body></html>